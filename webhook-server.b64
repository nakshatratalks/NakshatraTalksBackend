Y29uc3QgaHR0cCA9IHJlcXVpcmUoJ2h0dHAnKTsKY29uc3QgeyBleGVjIH0gPSByZXF1aXJlKCdj
aGlsZF9wcm9jZXNzJyk7CmNvbnN0IGNyeXB0byA9IHJlcXVpcmUoJ2NyeXB0bycpOwoKLy8gQ29u
ZmlndXJhdGlvbgpjb25zdCBQT1JUID0gOTAwMDsKY29uc3QgREVQTE9ZX1NDUklQVCA9ICcvdmFy
L3RtcC9OYWtzaGF0cmFUYWxrc0JhY2tlbmQvZGVwbG95LnNoJzsKY29uc3QgU0VDUkVUID0gcHJv
Y2Vzcy5lbnYuV0VCSE9PS19TRUNSRVQgfHwgJ25ha3NoYXRyYS13ZWJob29rLXNlY3JldC0yMDI0
JzsKCi8vIFZlcmlmeSBHaXRIdWIgc2lnbmF0dXJlCmZ1bmN0aW9uIHZlcmlmeVNpZ25hdHVyZShw
YXlsb2FkLCBzaWduYXR1cmUpIHsKICBpZiAoIXNpZ25hdHVyZSkgcmV0dXJuIGZhbHNlOwoKICBj
b25zdCBobWFjID0gY3J5cHRvLmNyZWF0ZUhtYWMoJ3NoYTI1NicsIFNFQ1JFVCk7CiAgY29uc3Qg
ZGlnZXN0ID0gJ3NoYTI1Nj0nICsgaG1hYy51cGRhdGUocGF5bG9hZCkuZGlnZXN0KCdoZXgnKTsK
CiAgcmV0dXJuIGNyeXB0by50aW1pbmdTYWZlRXF1YWwoCiAgICBCdWZmZXIuZnJvbShzaWduYXR1
cmUpLAogICAgQnVmZmVyLmZyb20oZGlnZXN0KQogICk7Cn0KCi8vIEV4ZWN1dGUgZGVwbG95bWVu
dCBzY3JpcHQKZnVuY3Rpb24gZGVwbG95KCkgewogIGNvbnNvbGUubG9nKCfwn5qAIFRyaWdnZXJp
bmcgZGVwbG95bWVudC4uLicpOwoKICBleGVjKERFUExPWV9TQ1JJUFQsIChlcnJvciwgc3Rkb3V0
LCBzdGRlcnIpID0+IHsKICAgIGlmIChlcnJvcikgewogICAgICBjb25zb2xlLmVycm9yKCfinYwg
RGVwbG95bWVudCBlcnJvcjonLCBlcnJvcik7CiAgICAgIGNvbnNvbGUuZXJyb3Ioc3RkZXJyKTsK
ICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc29sZS5sb2coJ+KchSBEZXBsb3ltZW50IG91dHB1
dDonKTsKICAgIGNvbnNvbGUubG9nKHN0ZG91dCk7CiAgfSk7Cn0KCi8vIENyZWF0ZSBIVFRQIHNl
cnZlcgpjb25zdCBzZXJ2ZXIgPSBodHRwLmNyZWF0ZVNlcnZlcigocmVxLCByZXMpID0+IHsKICAv
LyBPbmx5IGFjY2VwdCBQT1NUIHJlcXVlc3RzIHRvIC93ZWJob29rCiAgaWYgKHJlcS5tZXRob2Qg
IT09ICdQT1NUJyB8fCByZXEudXJsICE9PSAnL3dlYmhvb2snKSB7CiAgICByZXMud3JpdGVIZWFk
KDQwNCwgeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0pOwogICAgcmVzLmVu
ZChKU09OLnN0cmluZ2lmeSh7IGVycm9yOiAnTm90IGZvdW5kJyB9KSk7CiAgICByZXR1cm47CiAg
fQoKICBsZXQgYm9keSA9ICcnOwoKICByZXEub24oJ2RhdGEnLCBjaHVuayA9PiB7CiAgICBib2R5
ICs9IGNodW5rLnRvU3RyaW5nKCk7CiAgfSk7CgogIHJlcS5vbignZW5kJywgKCkgPT4gewogICAg
dHJ5IHsKICAgICAgLy8gR2V0IEdpdEh1YiBzaWduYXR1cmUKICAgICAgY29uc3Qgc2lnbmF0dXJl
ID0gcmVxLmhlYWRlcnNbJ3gtaHViLXNpZ25hdHVyZS0yNTYnXTsKCiAgICAgIC8vIFZlcmlmeSBz
aWduYXR1cmUgKG9wdGlvbmFsIC0gY29tbWVudCBvdXQgaWYgbm90IHVzaW5nIHNlY3JldHMpCiAg
ICAgIGlmIChzaWduYXR1cmUgJiYgIXZlcmlmeVNpZ25hdHVyZShib2R5LCBzaWduYXR1cmUpKSB7
CiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEludmFsaWQgc2lnbmF0dXJlJyk7CiAgICAgICAg
cmVzLndyaXRlSGVhZCg0MDEsIHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9
KTsKICAgICAgICByZXMuZW5kKEpTT04uc3RyaW5naWZ5KHsgZXJyb3I6ICdJbnZhbGlkIHNpZ25h
dHVyZScgfSkpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY29uc3QgcGF5bG9hZCA9
IEpTT04ucGFyc2UoYm9keSk7CgogICAgICAvLyBMb2cgd2ViaG9vayBldmVudAogICAgICBjb25z
b2xlLmxvZygn8J+TqCBXZWJob29rIHJlY2VpdmVkOicsIHsKICAgICAgICBldmVudDogcmVxLmhl
YWRlcnNbJ3gtZ2l0aHViLWV2ZW50J10sCiAgICAgICAgcmVwb3NpdG9yeTogcGF5bG9hZC5yZXBv
c2l0b3J5Py5uYW1lLAogICAgICAgIGJyYW5jaDogcGF5bG9hZC5yZWYsCiAgICAgICAgcHVzaGVy
OiBwYXlsb2FkLnB1c2hlcj8ubmFtZQogICAgICB9KTsKCiAgICAgIC8vIE9ubHkgZGVwbG95IG9u
IHB1c2ggZXZlbnRzIHRvIG1haW4vbWFzdGVyIGJyYW5jaAogICAgICBjb25zdCBpc1B1c2hFdmVu
dCA9IHJlcS5oZWFkZXJzWyd4LWdpdGh1Yi1ldmVudCddID09PSAncHVzaCc7CiAgICAgIGNvbnN0
IGlzTWFpbkJyYW5jaCA9IHBheWxvYWQucmVmID09PSAncmVmcy9oZWFkcy9tYWluJyB8fCBwYXls
b2FkLnJlZiA9PT0gJ3JlZnMvaGVhZHMvbWFzdGVyJzsKCiAgICAgIGlmIChpc1B1c2hFdmVudCAm
JiBpc01haW5CcmFuY2gpIHsKICAgICAgICBkZXBsb3koKTsKICAgICAgICByZXMud3JpdGVIZWFk
KDIwMCwgeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0pOwogICAgICAgIHJl
cy5lbmQoSlNPTi5zdHJpbmdpZnkoeyBtZXNzYWdlOiAnRGVwbG95bWVudCB0cmlnZ2VyZWQnIH0p
KTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXMud3JpdGVIZWFkKDIwMCwgeyAnQ29udGVudC1U
eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0pOwogICAgICAgIHJlcy5lbmQoSlNPTi5zdHJpbmdp
ZnkoeyBtZXNzYWdlOiAnTm8gZGVwbG95bWVudCB0cmlnZ2VyZWQnIH0pKTsKICAgICAgfQogICAg
fSBjYXRjaCAoZXJyb3IpIHsKICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIHByb2Nlc3Np
bmcgd2ViaG9vazonLCBlcnJvcik7CiAgICAgIHJlcy53cml0ZUhlYWQoNTAwLCB7ICdDb250ZW50
LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSk7CiAgICAgIHJlcy5lbmQoSlNPTi5zdHJpbmdp
ZnkoeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSkpOwogICAgfQogIH0pOwp9KTsK
CnNlcnZlci5saXN0ZW4oUE9SVCwgJzAuMC4wLjAnLCAoKSA9PiB7CiAgY29uc29sZS5sb2coJ/Cf
jqMgV2ViaG9vayBzZXJ2ZXIgbGlzdGVuaW5nIG9uIHBvcnQnLCBQT1JUKTsKICBjb25zb2xlLmxv
Zygn8J+TnSBXZWJob29rIFVSTDogaHR0cDovLzE0Ny43OS42Ni4zOicgKyBQT1JUICsgJy93ZWJo
b29rJyk7CiAgY29uc29sZS5sb2coJ/CflJAgU2VjcmV0OicsIFNFQ1JFVCk7Cn0pOwo=
